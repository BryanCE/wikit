# Task 1.2: Update package.json

## Purpose

Configure package.json to support publishing as a library with selective imports.

## Key Changes

### 1. Package Name and Metadata

```json
{
  "name": "@bryance/wikit",
  "version": "0.1.0",
  "description": "CLI and TUI for managing Wiki.js instances - sync pages, manage users, and more",
  "author": "Dale Henderson",
  "license": "MIT"
}
```

### 2. Add Exports Field

This is the critical part that enables barrel exports:

```json
{
  "exports": {
    ".": {
      "import": "./dist/index.js",
      "types": "./dist/index.d.ts"
    },
    "./commands": {
      "import": "./dist/commands/index.js",
      "types": "./dist/commands/index.d.ts"
    },
    "./api": {
      "import": "./dist/api/index.js",
      "types": "./dist/api/index.d.ts"
    },
    "./types": {
      "import": "./dist/types/index.js",
      "types": "./dist/types/index.d.ts"
    },
    "./utils": {
      "import": "./dist/utils/index.js",
      "types": "./dist/utils/index.d.ts"
    },
    "./config": {
      "import": "./dist/config/index.js",
      "types": "./dist/config/index.d.ts"
    }
  }
}
```

### 3. Add Repository Info

```json
{
  "repository": {
    "type": "git",
    "url": "https://github.com/bryance/wikit"
  },
  "bugs": {
    "url": "https://github.com/bryance/wikit/issues"
  },
  "homepage": "https://github.com/bryance/wikit#readme"
}
```

### 4. Add Keywords

```json
{
  "keywords": [
    "wikijs",
    "wiki.js",
    "wiki",
    "cli",
    "tui",
    "api",
    "management",
    "admin",
    "sync",
    "migration"
  ]
}
```

### 5. Update Scripts

```json
{
  "scripts": {
    "dev": "bun run src/index.ts",
    "build": "tsc",
    "tsc": "tsc --noEmit",
    "lint": "eslint src",
    "check": "tsc --noEmit && eslint src",
    "prepublishOnly": "bun run build"
  }
}
```

### 6. Ensure Files Field

```json
{
  "files": ["dist", "README.md"]
}
```

## Complete Example

See the original PACKAGE-PLAN.md lines 122-213 for the complete package.json.

## Important Notes

- The `exports` field tells Node.js what can be imported and where to find it
- The `types` field in each export points to TypeScript declarations
- The `prepublishOnly` script ensures the package is built before publishing
- The `files` field ensures only necessary files are published

## Verification

After updating package.json:
1. Run `bun install` to update dependencies
2. Check that the structure is valid JSON
3. Verify all paths in exports field match your directory structure

## Next Steps

Move to Task 1.3 to update tsconfig.json for TypeScript declarations.
